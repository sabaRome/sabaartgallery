<header class="block w-full px-2 pt-8">
    <div x-data="{ open: false, aboutOpen: false, workshopsOpen: false  }" class="flex items-center justify-between px-4">

        <a href="/" class="transition duration-150 ease-in-out logo-link arizonia-regular text-slate-400 hover:font-bold hover:text-stone-800 hover:scale-120">
            <span class="logo-title arizonia-regular">SaBa</span>
            <span class="logo-subtitle arizonia-regular">Art Gallery</span>
        </a>

        <!--Descktop Menu -->
        <div class="hidden space-x-2 md:flex md:space-x-5 text-slate-400">
            <a href="/" class="transition duration-150 ease-in-out text-slate-400 hover:font-bold hover:text-stone-800 hover:scale-110 {% if page.url == '/' %} font-bold text-stone-800{% endif %}">Home</a>

            <!-- Dropdown for Workshops -->
            <div class="relative">
                <button
                    @mouseenter="workshopsOpen = true"
                    @mouseleave="workshopsOpen = false"
                    class="hover:font-bold hover:text-stone-800 {% if page.url == '/workshops/persian-calligraphy/' or page.url == '/workshops/starch-pressing-technique/' %} font-bold text-stone-800{% else %}text-slate-400{% endif %}"
                    >
                    Workshops
                </button>
                <div
                    x-show="workshopsOpen"
                    @mouseenter="workshopsOpen = true"
                    @mouseleave="workshopsOpen = false"
                    x-transition
                    x-cloak
                    class="absolute right-0 px-4 min-w-60 mt-0.5 bg-white border border-slate-200 rounded shadow-md py-2 z-50"
                >
                    <a href="/workshops/persian-calligraphy/" class="transition duration-150 ease-in-out text-slate-400 hover:font-bold hover:text-stone-800 hover:scale-110 block px-4 py-2 text-sm text-slate-600 {% if page.url == '/workshops/persian-calligraphy/' %} font-bold text-stone-800{% endif %}">Persian Calligraphy</a>
                    <a href="/workshops/starch-pressing-technique/" class="transition duration-150 ease-in-out text-slate-400 hover:font-bold hover:text-stone-800 hover:scale-110 block px-4 py-2 text-sm text-slate-600 {% if page.url == '/workshops/starch-pressing-technique/' %} font-bold text-stone-800{% endif %}">Starch Pressing Technique</a>
                </div>
            </div>

             <a href="/artworks/" class="transition duration-150 ease-in-out text-slate-400 hover:font-bold hover:text-stone-800 hover:scale-110 {% if page.url contains '/artworks/' %} font-bold text-stone-800{% endif %}">Artworks</a>

            <a href="/contact/" class="transition duration-150 ease-in-out text-slate-400 hover:font-bold hover:text-stone-800 hover:scale-110 {% if page.url == '/contact/' %} font-bold text-stone-800{% endif %}">Contact</a>
            <a href="/commission/" class="transition duration-150 ease-in-out text-slate-400 hover:font-bold hover:text-stone-800 hover:scale-110 {% if page.url == '/commission/' %} font-bold text-stone-800{% endif %}">Commission</a>

            <!-- Dropdown for About -->
            <div class="relative">
                <button
                    @mouseenter="aboutOpen = true"
                    @mouseleave="aboutOpen = false"
                    class="hover:font-bold hover:text-stone-800 {% if page.url == '/about/saba/' or page.url == '/about/saba-s-artistic-statement/' or page.url == '/about/narvan/' or page.url == '/about/narvan-s-artistic-statement/' or page.url == '/about/persian-calligraphy/' or page.url == '/about/persian-illumination/' or page.url == '/about/method-and-materials/' %} font-bold text-stone-800{% else %}text-slate-400{% endif %}"
                    >
                    About
                </button>
                <div
                    x-show="aboutOpen"
                    @mouseenter="aboutOpen = true"
                    @mouseleave="aboutOpen = false"
                    x-transition
                    x-cloak
                    class="absolute right-0 px-4 min-w-52 mt-0.5 bg-white border border-slate-200 rounded shadow-md py-2 z-50"
                >

                    <p class="font-semibold text-gray-300">SaBa</p>
                    <a href="/about/saba/" class="transition duration-150 ease-in-out text-slate-400 hover:font-bold hover:text-stone-800 hover:scale-110 block px-4 py-2 text-sm text-slate-600 {% if page.url == '/about/saba/' %} font-bold text-stone-800{% endif %}">SaBa</a>
                    <a href="/about/saba-s-artistic-statement/" class="transition duration-150 ease-in-out text-slate-400 hover:font-bold hover:text-stone-800 hover:scale-110 block px-4 py-2 text-sm text-slate-600 {% if page.url == '/about/saba-s-artistic-statement/' %} font-bold text-stone-800{% endif %}">Artistic Statement</a>
                    <a href="/about/method-and-materials/" class="transition duration-150 ease-in-out text-slate-400 hover:font-bold hover:text-stone-800 hover:scale-110 block px-4 py-2 text-sm text-slate-600 {% if page.url == '/about/method-and-materials/' %} font-bold text-stone-800{% endif %}">Method & Materials</a>
                    
                    <hr>
                    
                    <p class="font-semibold text-gray-300">Narvan</p>

                    <a href="/about/narvan/" class="transition duration-150 ease-in-out text-slate-400 hover:font-bold hover:text-stone-800 hover:scale-110 block px-4 py-2 text-sm text-slate-600 {% if page.url == '/about/narvan/' %} font-bold text-stone-800{% endif %}">Narvan</a>
                    <a href="/about/narvan-s-artistic-statement/" class="transition duration-150 ease-in-out text-slate-400 hover:font-bold hover:text-stone-800 hover:scale-110 block px-4 py-2 text-sm text-slate-600 {% if page.url == '/about/narvan-s-artistic-statement/' %} font-bold text-stone-800{% endif %}">Artistic Statement</a>
                    <hr>
                    <a href="/about/persian-calligraphy/" class="transition duration-150 ease-in-out text-slate-400 hover:font-bold hover:text-stone-800 hover:scale-110 block px-4 py-2 text-sm text-slate-600 {% if page.url == '/about/persian-calligraphy/' %} font-bold text-stone-800{% endif %}">Persian Calligraphy</a>
                    <a href="/about/persian-illumination/" class="transition duration-150 ease-in-out text-slate-400 hover:font-bold hover:text-stone-800 hover:scale-110 block px-4 py-2 text-sm text-slate-600 {% if page.url == '/about/persian-illumination/' %} font-bold text-stone-800{% endif %}">Persian Illumination</a>
                </div>
            </div>
        </div>

        <!--Responsive Menu -->
        <div class="relative block md:hidden">

            <!-- Menu Button -->
            <button 
                @click="open = !open" 
                class="relative flex items-center justify-center gap-2 p-2 rounded-lg whitespace-nowrap text-slate-400 hover:bg-slate-800/10"
            >
                <span class="sr-only">Menu</span>

                <!-- Heroicon: chevron-down -->
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="size-5">
                <path d="M3 10a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM8.5 10a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM15.5 8.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z" />
                </svg>
            </button>

            <!-- Menu Items -->
            <div
                x-show="open"
                @click.away="open = false"
                x-transition.origin.top.left
                x-cloak
                class="absolute right-0 min-w-52 rounded shadow z-10 origin-top-left bg-white p-2.5 outline-none border border-slate-200"

            >
                <!-- Menu Item -->
                <a
                    href="/"
                    class="px-2 lg:py-1.5 py-2 w-full flex items-center rounded-md transition-colors focus:outline-none text-left text-slate-400 {% if page.url == '/' %} font-bold text-stone-800{% endif %}"
                >
                    Home
                </a>
                                <!-- Mobile Workshops Dropdown -->
                <div class="mt-1">
                    <button 
                        @click="workshopsOpen = !workshopsOpen" 
                        class="w-full text-left px-2 py-2 hover:text-stone-800 {% if page.url == '/workshops/persian-calligraphy/' or page.url == '/workshops/starch-pressing-technique/' %} font-bold text-stone-800{% else %}text-slate-400{% endif %}"
                    >
                        Workshops
                    </button>
                    <div 
                        x-show="workshopsOpen"
                        x-transition 
                        x-cloak
                        class="z-50 p-2 space-y-1 bg-white border rounded shadow min-w-52 border-slate-200"
                    >
                        <a href="/workshops/persian-calligraphy/" class="block px-2 py-1 text-slate-500 hover:text-stone-800 {% if page.url == '/workshops/persian-calligraphy/' %} font-bold text-stone-800{% endif %}">Persian Calligraphy</a>
                        <a href="/workshops/starch-pressing-technique/" class="block px-2 py-1 text-slate-500 hover:text-stone-800 {% if page.url == '/workshops/starch-pressing-technique/' %} font-bold text-stone-800{% endif %}">Starch Pressing Technique</a>
                    </div>
                </div>
                <a
                    href="/artworks/"
                    class="px-2 lg:py-1.5 py-2 w-full flex items-center rounded-md transition-colors focus:outline-none text-left text-slate-400 {% if page.url contains '/artworks/' %} font-bold text-stone-800{% endif %}"
                >
                    Artworks
                </a>
                <a
                    href="/contact/"
                    class="px-2 lg:py-1.5 py-2 w-full flex items-center rounded-md transition-colors focus:outline-none text-left text-slate-400 {% if page.url == '/contact/' %} font-bold text-stone-800{% endif %}"
                    disabled
                >
                    Contact
                </a>

                <a
                    href="/commission/"
                    class="px-2 lg:py-1.5 py-2 w-full flex items-center rounded-md transition-colors focus:outline-none text-left text-slate-400 {% if page.url == '/commission/' %} font-bold text-stone-800{% endif %}"
                >
                    Commission
                </a>
                <!-- Mobile About Dropdown -->
                <div class="mt-1">
                    <button 
                        @click="aboutOpen = !aboutOpen" 
                        class="w-full text-left px-2 py-2 hover:text-stone-800 {% if page.url == '/about/saba/' or page.url == '/about/saba-s-artistic-statement/' or page.url == '/about/narvan/' or page.url == '/about/narvan-s-artistic-statement/' or page.url == '/about/persian-calligraphy/' or page.url == '/about/persian-illumination/' or page.url == '/about/method-and-materials/' %} font-bold text-stone-800{% else %}text-slate-400{% endif %}"
                    >
                        About
                    </button>
                    <div 
                        x-show="aboutOpen"
                        x-transition 
                        x-cloak
                        class="z-50 p-2 space-y-1 bg-white border rounded shadow min-w-52 border-slate-200"
                    >
                        <p class="font-semibold text-gray-300">SaBa</p>
                            <a href="/about/saba/" class="block px-2 py-1 text-slate-500 hover:text-stone-800 {% if page.url == '/about/saba/' %} font-bold text-stone-800{% endif %}">SaBa</a>
                            <a href="/about/saba-s-artistic-statement/" class="block px-2 py-1 text-slate-500 hover:text-stone-800 {% if page.url == '/about/saba-s-artistic-statement/' %} font-bold text-stone-800{% endif %}">Artistic Statement</a>
                            <a href="/about/method-and-materials/" class="block px-2 py-1 text-slate-500 hover:text-stone-800 {% if page.url == '/about/method-and-materials/' %} font-bold text-stone-800{% endif %}">Method & Materials</a>
                        <hr>
                        <p class="font-semibold text-gray-300">Narvan</p>
                            <a href="/about/narvan/" class="block px-2 py-1 text-slate-500 hover:text-stone-800 {% if page.url == '/about/narvan/' %} font-bold text-stone-800{% endif %}">Narvan</a>
                            <a href="/about/narvan-s-artistic-statement/" class="block px-2 py-1 text-slate-500 hover:text-stone-800 {% if page.url == '/about/about/narvan-s-artistic-statement/' %} font-bold text-stone-800{% endif %}">Artistic Statement</a>
                        <hr>
                            <a href="/about/persian-calligraphy/" class="block px-2 py-1 text-slate-500 hover:text-stone-800 {% if page.url == '/about/persian-calligraphy/' %} font-bold text-stone-800{% endif %}">Persian Calligraphy</a>
                            <a href="/about/persian-illumination/" class="block px-2 py-1 text-slate-500 hover:text-stone-800 {% if page.url == '/about/persian-illumination/' %} font-bold text-stone-800{% endif %}">Persian Illumination</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
